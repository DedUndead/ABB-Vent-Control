<html lang="en" class="w-screen h-screen">
    <head>
        <meta charset="UTF-8" />
        <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/style.css"/>
        <title>Dashboard</title>
    </head>

    <body class="max-w-6xl flex flex-col justify-center mx-auto mt-10">
        <header class="w-full p-3 flex flex-row justify-between items-center bg-blue-100 rounded-t-2xl">
            <nav class="w-full pl-5 pr-5 flex flex-row justify-between text-2xl">
                <div>
                    <a class="pl-2" href="#">Dashboard</a>
                    <a class="pl-2" href="/stats">Stats</a>
                </div>
                <!-- <h1 class="text-5xl text-red-300">Dashboard</h1> -->
                <div>
                    <a class="pl-2" href="/logout">Logout</a>
                </div>
            </nav>
        </header>
        <main class="w-full px-3 py-32  flex flex-row rounded-b-2xl border-b-2 border-r-2 border-l-2">
            <section class="w-1/3 flex flex-row justify-center">
                <object type="image/svg+xml" data="../fan.svg" id="fanSvg" class=""></object>
            </section>
            <section class="w-2/3 flex flex-col items-center">
                <label class="switch">
                    <input type="checkbox" id="toggleBtn">
                    <div class="slider round">
                        <span class="manual">Manual</span>
                        <span class="auto">Auto</span>
                    </div>
                </label>
                <div class="slidercontainer" id="sliderPressureContainer">
                    <div>Pressure</div>
                    <input type="range" min="0" max="120" class="sliderPressure" id="sliderPressure">
                    <div id="displayPressure"></div>
                </div>
                <div class="slidercontainer" id="sliderSpeedContainer">
                    <div>Fan speed</div>
                    <input type="range" min="0" max="100" class="sliderSpeed" id="sliderSpeed">
                    <div id="displaySpeed"></div>
                </div>
                <div class="">
                    <p class="text-left" id="pressure">Current pressure: <%-stats.pressure%>Pa</p>
                </div>
                <script>
                    document.getElementById("sliderPressure").value = <%= stats.setpoint %>;
                    document.getElementById("displayPressure").innerHTML = <%= stats.setpoint %> + "Pa"

                    document.getElementById("sliderSpeed").value = <%= stats.speed %>;
                    document.getElementById("displaySpeed").innerHTML = <%= stats.speed %> + "%"

                    if (<%= stats.mode %>) {
                        document.getElementById("toggleBtn").checked = true
                    }
                    else {
                        document.getElementById("toggleBtn").checked = false
                    }
                </script>
            </section>
        </main>
    </body>
    <script src="https://cdn.socket.io/4.2.0/socket.io.min.js"
    integrity="sha384-PiBR5S00EtOj2Lto9Uu81cmoyZqR57XcOna1oAuVuIEjzj0wpqDVfD0JA9eXlRsj"
    crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="js/sockets.js"></script>
    <script src="js/handler.js"></script>
</html>